(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["conceptDetail"],{"0459":function(e,t,o){},"0909":function(e,t,o){},"3c0b":function(e,t,o){"use strict";o("0909")},"45fc":function(e,t,o){"use strict";var n=o("23e7"),a=o("b727").some,c=o("a640"),i=o("ae40"),r=c("some"),s=i("some");n({target:"Array",proto:!0,forced:!r||!s},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},4709:function(e,t,o){},"5d6a":function(e,t,o){"use strict";o("bcbc")},7156:function(e,t,o){var n=o("861d"),a=o("d2bb");e.exports=function(e,t,o){var c,i;return a&&"function"==typeof(c=t.constructor)&&c!==o&&n(i=c.prototype)&&i!==o.prototype&&a(e,i),e}},"7db0":function(e,t,o){"use strict";var n=o("23e7"),a=o("b727").find,c=o("44d2"),i=o("ae40"),r="find",s=!0,u=i(r);r in[]&&Array(1)[r]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),c(r)},8293:function(e,t,o){"use strict";o("4709")},8432:function(e,t,o){"use strict";o("0459")},a554:function(e,t,o){},a640:function(e,t,o){"use strict";var n=o("d039");e.exports=function(e,t){var o=[][e];return!!o&&n((function(){o.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,o){"use strict";var n=o("83ab"),a=o("da84"),c=o("94ca"),i=o("6eeb"),r=o("5135"),s=o("c6b6"),u=o("7156"),d=o("c04e"),l=o("d039"),p=o("7c73"),h=o("241c").f,f=o("06cf").f,b=o("9bf2").f,m=o("58a8").trim,g="Number",x=a[g],v=x.prototype,k=s(p(v))==g,O=function(e){var t,o,n,a,c,i,r,s,u=d(e,!1);if("string"==typeof u&&u.length>2)if(u=m(u),t=u.charCodeAt(0),43===t||45===t){if(o=u.charCodeAt(2),88===o||120===o)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(c=u.slice(2),i=c.length,r=0;r<i;r++)if(s=c.charCodeAt(r),s<48||s>a)return NaN;return parseInt(c,n)}return+u};if(c(g,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var j,N=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof N&&(k?l((function(){v.valueOf.call(o)})):s(o)!=g)?u(new x(O(t)),o,N):O(t)},I=n?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;I.length>T;T++)r(x,j=I[T])&&!r(N,j)&&b(N,j,f(x,j));N.prototype=v,v.constructor=N,i(a,g,N)}},b2a2:function(e,t,o){"use strict";o.r(t);o("b0c0");var n=o("7a23"),a=Object(n["withScopeId"])("data-v-46fc1224");Object(n["pushScopeId"])("data-v-46fc1224");var c={class:"page-container"},i={class:"breadcrumbs"},r=Object(n["createTextVNode"])("Home"),s=Object(n["createTextVNode"])(" / "),u=Object(n["createVNode"])("div",{class:"divider"},null,-1);Object(n["popScopeId"])();var d=a((function(e,t,o,d,l,p){var h=Object(n["resolveComponent"])("router-link"),f=Object(n["resolveComponent"])("ConceptHeader"),b=Object(n["resolveComponent"])("AddHook"),m=Object(n["resolveComponent"])("HookList");return Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])(h,{to:"/"},{default:a((function(){return[r]})),_:1}),s,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(l.concept.name),1)]),Object(n["createVNode"])(f,{concept:l.concept},null,8,["concept"]),Object(n["createVNode"])(b,{concept:l.concept},null,8,["concept"]),u,Object(n["createVNode"])(m,{concept:l.concept},null,8,["concept"])])})),l=(o("7db0"),o("a9e3"),Object(n["withScopeId"])("data-v-08eec006"));Object(n["pushScopeId"])("data-v-08eec006");var p={class:"hook-container"},h={class:"icons"};Object(n["popScopeId"])();var f=l((function(e,t,o,a,c,i){return Object(n["openBlock"])(),Object(n["createBlock"])("form",{onSubmit:t[8]||(t[8]=Object(n["withModifiers"])((function(){return i.handleSubmit&&i.handleSubmit.apply(i,arguments)}),["prevent"]))},[Object(n["createVNode"])("div",p,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"hook-text",ref:"inputRef","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.hook=e}),onInput:t[2]||(t[2]=function(){return i.resizeInput&&i.resizeInput.apply(i,arguments)}),onFocus:t[3]||(t[3]=function(){return i.resizeInput&&i.resizeInput.apply(i,arguments)}),placeholder:"Hook Name"},null,544),[[n["vModelText"],c.hook]]),Object(n["createVNode"])("div",h,[Object(n["createVNode"])("i",{class:"icon fas fa-redo",onClick:t[4]||(t[4]=function(){return i.getUnusedHook&&i.getUnusedHook.apply(i,arguments)})})])]),Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{class:"hook-textarea","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.text=e}),ref:"textareaRef",onFocus:t[6]||(t[6]=function(){return e.autosizeTextarea&&e.autosizeTextarea.apply(e,arguments)}),onInput:t[7]||(t[7]=function(){return e.autosizeTextarea&&e.autosizeTextarea.apply(e,arguments)}),placeholder:"Type something..."},null,544),[[n["vModelText"],c.text]]),Object(n["createVNode"])("button",{type:"submit",class:"modal-button hook-submit",disabled:i.submitButtonDisabled}," Create ",8,["disabled"])],32)})),b=(o("45fc"),o("498a"),o("1ead")),m={methods:{autosizeTextarea:function(e){e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")},collapseTextarea:function(e){e.target.style.height="auto"}},mounted:function(){var e=this;this.$nextTick((function(){"function"===typeof e.$el.setAttribute&&e.$el.setAttribute("style","height","".concat(e.$el.scrollHeight,"px"))}))}},g={name:"AddHook",props:["concept"],mixins:[b["a"],m],data:function(){return{hook:"",text:""}},computed:{submitButtonDisabled:function(){return""===this.hook.trim()||""===this.text.trim()}},mounted:function(){this.isMounted=!0,this.focusInput()},methods:{getUnusedHook:function(){var e;do{e=this.getRandomHook()}while(this.hook.toLowerCase()===e.toLowerCase()||this.concept.hooks.some((function(t){return t.name.toLowerCase()===e.toLowerCase()})));this.hook=e,this.$refs.inputRef.value=e,this.resizeInput()},focusInput:function(){var e=this;this.$nextTick((function(){e.$refs.inputRef.focus()}))},resizeInput:function(){this.$refs.inputRef.style.width="auto",this.$refs.inputRef.style.width=this.$refs.inputRef.scrollWidth+"px"},resizeTextarea:function(){this.$refs.textareaRef.style.height="auto",this.$refs.textareaRef.style.height=this.$refs.textareaRef.style.scrollHeight+"px"},handleSubmit:function(){this.$refs.inputRef.value&&this.text&&(this.$store.dispatch("addHookToConcept",{name:this.hook,text:this.text}),this.hook="",this.$refs.inputRef.value="",this.text="",this.resizeInput(),this.resizeTextarea(),this.focusInput())}}};o("ce7f");g.render=f,g.__scopeId="data-v-08eec006";var x=g,v=Object(n["withScopeId"])("data-v-67aa9024");Object(n["pushScopeId"])("data-v-67aa9024");var k={class:"concept-info"},O={class:"concept-info-name"};Object(n["popScopeId"])();var j=v((function(e,t,o,a,c,i){var r=Object(n["resolveComponent"])("Dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("div",k,[Object(n["createVNode"])("h1",O,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.concept.name)+" ",1),Object(n["createVNode"])("i",{class:"edit-name fas fa-edit",onClick:t[1]||(t[1]=function(){return i.toggleModal&&i.toggleModal.apply(i,arguments)})})])]),Object(n["createVNode"])(r,{show:c.modalShowing,title:"Change Concept Name",onClose:i.toggleModal},{default:v((function(){return[Object(n["createVNode"])("form",{onSubmit:t[3]||(t[3]=Object(n["withModifiers"])((function(){return i.handleSubmit&&i.handleSubmit.apply(i,arguments)}),["prevent"]))},[Object(n["withDirectives"])(Object(n["createVNode"])("input",{class:"modal-input","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.newName=e}),required:""},null,512),[[n["vModelText"],c.newName]]),Object(n["createVNode"])("button",{class:"modal-button",disabled:""===c.newName.trim()}," Change Name ",8,["disabled"])],32)]})),_:1},8,["show","onClose"])],64)})),N=o("3f7a"),I={name:"ConceptHeader",components:{Dialog:N["a"]},props:["concept"],data:function(){return{newName:this.concept.name,modalShowing:!1}},methods:{toggleModal:function(){this.modalShowing=!this.modalShowing},handleSubmit:function(){this.$store.dispatch("changeConceptName",this.newName),this.toggleModal()}}};o("8293");I.render=j,I.__scopeId="data-v-67aa9024";var T=I,C=Object(n["withScopeId"])("data-v-74963498");Object(n["pushScopeId"])("data-v-74963498");var w={class:"heading"},y=Object(n["createVNode"])("p",{class:"modal-text"},"Are you sure?",-1);Object(n["popScopeId"])();var V=C((function(e,t,o,a,c,i){var r=Object(n["resolveComponent"])("ConceptHook"),s=Object(n["resolveComponent"])("Draggable"),u=Object(n["resolveComponent"])("Dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("div",null,[Object(n["createVNode"])("h2",w,"# Hooks: "+Object(n["toDisplayString"])(i.conceptHooks.length||0),1),Object(n["createVNode"])(s,{class:"hooks",modelValue:i.conceptHooks,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.conceptHooks=e}),tag:"transition-group","component-data":{tag:"div",name:"animate-dnd",type:"transition"},"item-key":"name"},{item:C((function(e){var t=e.element,a=e.index;return[Object(n["createVNode"])(r,{key:t.name,conceptId:o.concept.createdAt,index:a,name:t.name,text:t.text,onDeleteHook:i.startDelete},null,8,["conceptId","index","name","text","onDeleteHook"])]})),_:1},8,["modelValue"])]),Object(n["createVNode"])(u,{show:c.modalShowing,title:"Delete Hook",onClose:i.cancelDelete},{default:C((function(){return[y,Object(n["createVNode"])("button",{class:"modal-button",onClick:t[2]||(t[2]=function(){return i.handleDelete&&i.handleDelete.apply(i,arguments)})},"Delete")]})),_:1},8,["show","onClose"])],64)})),H=Object(n["withScopeId"])("data-v-7ef6fb95");Object(n["pushScopeId"])("data-v-7ef6fb95");var S={class:"container"},D={class:"index"};Object(n["popScopeId"])();var $=H((function(e,t,o,a,c,i){return Object(n["openBlock"])(),Object(n["createBlock"])("div",S,[Object(n["createVNode"])("div",D,Object(n["toDisplayString"])(o.index+1),1),Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{class:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.inputText=e}),onFocus:t[2]||(t[2]=function(){return e.autosizeTextarea&&e.autosizeTextarea.apply(e,arguments)}),onInput:t[3]||(t[3]=function(){return i.handleNameChange&&i.handleNameChange.apply(i,arguments)})},null,544),[[n["vModelText"],c.inputText]]),Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{class:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.textareaText=e}),onBlur:t[5]||(t[5]=function(){return e.collapseTextarea&&e.collapseTextarea.apply(e,arguments)}),onFocus:t[6]||(t[6]=function(){return e.autosizeTextarea&&e.autosizeTextarea.apply(e,arguments)}),onInput:t[7]||(t[7]=function(){return i.handleTextChange&&i.handleTextChange.apply(i,arguments)})},null,544),[[n["vModelText"],c.textareaText]]),Object(n["createVNode"])("i",{class:"delete-hook fas fa-trash",onClick:t[8]||(t[8]=function(){return i.handleDelete&&i.handleDelete.apply(i,arguments)})})])})),A=o("f7fe"),_=o.n(A),z={name:"ConceptHook",mixins:[m],props:["conceptId","index","name","text"],emits:["deleteHook"],data:function(){return{inputText:"",textareaText:""}},created:function(){this.inputText=this.name,this.textareaText=this.text,this.changeHookText=_()(this.changeHookText,500),this.handleNameChange=_()(this.handleNameChange,500)},methods:{handleDelete:function(){this.$emit("deleteHook",this.name)},handleNameChange:function(e){this.resizeTextarea(e),this.changeHookName()},handleTextChange:function(e){this.resizeTextarea(e),this.changeHookText()},changeHookName:function(){this.$store.dispatch("updateHook",{id:this.conceptId,hook:this.name,newName:this.inputText})},changeHookText:function(){this.$store.dispatch("updateHook",{id:this.conceptId,hook:this.name,newText:this.textareaText})},resizeTextarea:function(e){e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")}}};o("3c0b");z.render=$,z.__scopeId="data-v-7ef6fb95";var M=z,R=o("b76a"),F=o.n(R),B={name:"HookList",components:{ConceptHook:M,Dialog:N["a"],Draggable:F.a},props:["concept"],data:function(){return{hookToDelete:"",modalShowing:!1,drag:!1}},computed:{conceptHooks:{get:function(){var e=this,t=this.$store.getters.concepts.find((function(t){return t.createdAt===e.concept.createdAt}));return t.hooks},set:function(e){this.$store.commit("setHooks",{id:this.concept.createdAt,hooks:e})}}},methods:{toggleModal:function(){this.modalShowing=!this.modalShowing},cancelDelete:function(){this.toggleModal(),this.hookToDelete=""},startDelete:function(e){this.toggleModal(),this.hookToDelete=e},handleDelete:function(){this.$store.dispatch("removeHookFromConcept",{id:this.concept.createdAt,hook:this.hookToDelete}),this.cancelDelete()}}};o("5d6a");B.render=V,B.__scopeId="data-v-74963498";var E=B,U={name:"ConceptDetail",components:{AddHook:x,ConceptHeader:T,HookList:E},props:["id"],data:function(){return{concept:void 0}},created:function(){var e=this,t=this.$store.getters.concepts,o=t.find((function(t){return t.createdAt===Number(e.id)}));o?(this.$store.dispatch("setCurrConcept",o),this.concept=o,document.title="Karai - "+o.name):(alert("ERROR: Failed to find concept with that ID."),this.$router.push("/"))},beforeUnmount:function(){this.$store.dispatch("setCurrConcept",void 0)}};o("8432");U.render=d,U.__scopeId="data-v-46fc1224";t["default"]=U},bcbc:function(e,t,o){},ce7f:function(e,t,o){"use strict";o("a554")}}]);
//# sourceMappingURL=conceptDetail.599eb466.js.map